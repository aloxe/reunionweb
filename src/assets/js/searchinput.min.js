var mainBlock,searchInput=document.getElementById("search"),searchBlock=document.createElement("main");searchBlock.className="searchblock",searchBlock.innerHTML='<h1>Recherche</h1><h4><button id="searchClose" title="arrêter la recherche">×</button><span></span></h4><ol id="searchResults"></ol><div id="noResultsFound" style="display: none"><p>Aucun résultat.</p></div>';var elasticLoaded=!1;searchInput.onfocus=function(e){var t;((mainBlock=document.getElementsByTagName("main")[0]).style.opacity=.4,mainBlock.style.display="block",searchBlock.style.display="none",mainBlock.after(searchBlock),elasticLoaded)||((t=document.createElement("script")).setAttribute("type","text/javascript"),t.setAttribute("src","/js/search.min.js"),document.head.appendChild(t),(t=document.createElement("script")).setAttribute("type","text/javascript"),t.setAttribute("src","/js/elasticlunr.min.js"),document.head.appendChild(t),elasticLoaded=!0);document.getElementById("searchClose").onclick=function(e){console.log("close"),searchBlock.style.display="none",mainBlock.style.display="block",mainBlock.style.opacity=1,searchInput.value=""}},searchInput.oninput=function(e){mainBlock=document.getElementsByTagName("main")[0],searchTerm=searchBlock.getElementsByTagName("span")[0],searchTerm.innerHTML=searchInput.value,searchInput.value.length>2&&(searchBlock.style.display="block",mainBlock.style.display="none"),searchInput.value.length<1&&(searchBlock.style.display="none",mainBlock.style.display="block")},searchInput.onblur=function(e){mainBlock=document.getElementsByTagName("main")[0],searchInput.value="",mainBlock.style.opacity=1;window.searchIndex.search(e.target.value,{bool:"OR",expand:!0})};